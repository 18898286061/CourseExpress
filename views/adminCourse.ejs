<%- include('header') %>
<%- include('components/adminHeader') %>

<div style= "margin-top: 2px" class="course-tabel">
    <div class="clearfix">
      <button class="ui blue button" style="float: right;">
        <a class="item" style="color: #fff" href="/createCourse">
          创建课程
        </a>
      </button>
    </div>
    <table class="ui celled table" id="table">
      <thead>
        <tr>
          <th>课程名称</th>
          <th>作者</th>
          <th>封面</th>
          <th>创建时间</th>
          <th>价格</th>
          <th>已参加人数</th>
          <th>课程详情</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <% course.forEach(function (course) { %>
          <%- include('components/admin-courseContent', { course: course }) %>
        <% }) %>
      </tbody>
    </table>
  </div>
  <div
    class="echartsWrapper"
    id="echartsWrapper"
    style="
      width: 600px;height:400px;
      margin-top: 30px;
    ">

  </div>

<script>
let a = document.querySelectorAll('a')
for(var i = 0; i < a.length; i++) {
  if(a[i].pathname === window.location.pathname){
    a[i].classList.add('active')
  }
}

// Echarts 代码

// 基于准备好的dom，初始化echarts实例
var myChart = echarts.init(document.getElementById('echartsWrapper'));

// 指定图表的配置项和数据
var option = {
    title: {
        text: '每门课程所参加人数'
    },
    tooltip: {},
    legend: {
        data:['购买人数']
    },
    xAxis: {
        axisLabel:{
          interval: 0,
          rotate:40
        },
        data:  ["计算机网络应用","面向对象程序设计——Java语言","数据库原理与应用","软件工程基础"]
    },
    yAxis: {},
    series: [{
        name: '购买人数',
        type: 'bar',
        data: [1, 3, 2, 3]
    }]
};

// 使用刚指定的配置项和数据显示图表。
myChart.setOption(option);
</script>
<%- include('footer') %>
